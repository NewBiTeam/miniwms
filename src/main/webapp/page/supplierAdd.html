<head>
<meta charset="utf-8">
<!-- This file has been downloaded from Bootsnipp.com. Enjoy! -->
<title>myforms - Bootsnipp.com</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>
	<div class="container">

		<div id="signupbox" style="margin-top: 50px"
			class="mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
			<div class="panel panel-info">
				<div class="panel-heading">
					<div class="panel-title">供应商添加</div>
					<div
						style="float: right; font-size: 85%; position: relative; top: -10px">
						<a id="signinlink" href="supplierView.html">查看</a>
					</div>
				</div>
				<div class="panel-body">
					<input type='hidden' name='csrfmiddlewaretoken'
						value='XFe2rTYl9WOpV8U6X5CfbIuOZOELJ97S' /> <input type='hidden'
						name='csrfmiddlewaretoken'
						value='XFe2rTYl9WOpV8U6X5CfbIuOZOELJ97S' />
					<div id="div_name" class="form-group required">
						<label for="name" class="control-label col-md-4  requiredField">
							名称<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md textInput form-control"
								id="name" maxlength="30" name="username" placeholder="名称"
								style="margin-bottom: 10px" type="text" />
						</div>
					</div>
					<div id="div_address" class="form-group required">
						<label for="address" class="control-label col-md-4  requiredField">
							地址<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  textInput form-control"
								id="address" maxlength="30" name="address" placeholder="地址"
								style="margin-bottom: 10px" type="text" />
						</div>
					</div>
					<div id="div_description" class="form-group required">
						<label for="description"
							class="control-label col-md-4  requiredField"> 描述<span
							class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  form-control" id="description"
								name="description" placeholder="描述" style="margin-bottom: 10px"
								type="text" />
						</div>
					</div>
					<div id="div_contactName" class="form-group required">
						<label for="contactName" class="control-label col-md-4  requiredField">
							联系人姓名<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  textInput form-control"
								id="contactName" maxlength="30" name="contactName" placeholder="联系人姓名"
								style="margin-bottom: 10px" type="text" />
						</div>
					</div>
					<div id="div_contactTel" class="form-group required">
						<label for="contactTel" class="control-label col-md-4  requiredField">
							联系人电话<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  textInput form-control"
								id="contactTel" maxlength="30" name="contactTel" placeholder="联系人电话"
								style="margin-bottom: 10px" type="text" />
						</div>
					</div>
					<div id="div_contactFax" class="form-group required">
						<label for="contactFax" class="control-label col-md-4  requiredField">
							联系人传真<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  textInput form-control"
								id="contactFax" maxlength="30" name="contactFax" placeholder="联系人传真"
								style="margin-bottom: 10px" type="text" />
						</div>
					</div>
					<div id="div_contactEmail" class="form-group required">
						<label for="contactEmail" class="control-label col-md-4  requiredField">
							联系人邮箱<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  textInput form-control"
								id="contactEmail" maxlength="30" name="contactEmail" placeholder="联系人邮箱"
								style="margin-bottom: 10px" type="email" />
						</div>
					</div>
					<div id="div_contactQQ" class="form-group required">
						<label for="contactQQ" class="control-label col-md-4  requiredField">
							联系人QQ<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  textInput form-control"
								id="contactQQ" maxlength="30" name="contactQQ" placeholder="联系人QQ"
								style="margin-bottom: 10px" type="text" />
						</div>
					</div>
					<div id="div_contactMsn" class="form-group required">
						<label for="contactMsn" class="control-label col-md-4  requiredField">
							联系人Skype<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  textInput form-control"
								id="contactMsn" maxlength="30" name="contactMsn" placeholder="联系人Skype"
								style="margin-bottom: 10px" type="text" />
						</div>
					</div>
					<div id="div_contactDesc" class="form-group required">
						<label for="contactDesc" class="control-label col-md-4  requiredField">
							联系人描述<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<input class="input-md  textInput form-control"
								id="contactDesc" maxlength="30" name="contactDesc" placeholder="联系人描述"
								style="margin-bottom: 10px" type="text" />
						</div>
					</div>
					<div id="div_companyId" class="form-group required">
						<label for="companyId" class="control-label col-md-4  requiredField">
							公司<span class="asteriskField">*</span>
						</label>
						<div class="controls col-md-8 ">
							<select class="input-md  textInput form-control" maxlength="30"
								id="companyId" style="margin-bottom: 10px">
								<option>请选择</option>
							</select>
						</div>
					</div>
					<div class="form-group">
						<div class="aab controls col-md-4 "></div>
						<div class="controls col-md-8 ">
							<input type="submit" value="增加"
								class="btn btn-primary btn btn-info" id="submit" />
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
	$(document).ready(function() {
		var jqXhr = $.get('/MiniWms/company/all').done(function(data) {
			if (data) {
				$.each(data, function(i, e) {
					$option = $("<option value=" + e.id + "/>").text(e.name);
					$option.appendTo($('#companyId'));
				})
			}
		})
	});
	$(document).ready(function() {
	    $('#submit').click(function() {
	        $.post('../supplier/add', {name: $('#name').val(), address: $('#address').val(), description: $('#description').val(), 
	        	contactName: $('#contactName').val(), contactTel: $('#contactTel').val(), contactFax: $('#contactFax').val(),
	        	contactEmail: $('#contactEmail').val(), contactQq: $('#contactQq').val(), contactMsn: $('#contactMsn').val(),
	        	contactDesc: $('#contactDesc').val(), companyId: $('#companyId').val()}).done(function(data) {
				localStorage.clear();
				alert("添加成功！");
				location.href = 'main.html'
			}).fail(function() {
				alert("添加失败！");
			});
	    });
	})
	</script>
</body>